<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enecovery - Sustainable Energy Solutions</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Header Start -->
    <div class="header-main-h2" id="header">
        <div class="container">
            <div class="main-haeder-wrapper-h2">
                <!-- Logo -->
                <a href="index.html" class="logo-area">
                    <img src="assets/images/logo/Enecovery-Green-Logo-Final.svg" alt="Enecovery Logo" class="logo" />
                </a>

                <!-- Desktop Navigation -->
                <nav class="header-nav d-lg-block" aria-label="Main Navigation">
                    <ul class="header-nav" id="navLinks">
                        <!-- About Us -->
                        <li class="nav-item">
                            <a class="nav-link dropdown-toggle" href="#" aria-expanded="false">
                                About Us
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="aboutus.html">Who We Are</a></li>
                                <hr>
                                <li><a href="our-journey.html">Enecovery Journey</a></li>
                                <hr>
                                <li class="dropdown-submenu">
                                    <a class="dropdown-toggle" href="#">Our Team</a>
                                    <ul class="dropdown-menu">
                                        <li><a href="core-team.html">Core Team</a></li>
                                        <hr>
                                        <li><a href="#">Technician</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>

                        <!-- Sector (Mega Menu) -->
                        <li class="nav-item mega-menu">
                            <a class="nav-link dropdown-toggle" href="#" aria-expanded="false">
                                Sector
                            </a>
                            <ul class="dropdown-menu">
                                <li class="mega-column">
                                    <h4>Green Energy</h4>
                                    <ul>
                                        <li><a href="waste-to-energy.html">Waste to Energy</a></li>
                                        <li><a href="sludge-management.html">Sludge Management</a></li>
                                        <li><a href="water-purification.html">Water Purification</a></li>
                                        <li><a href="green-carbon.html">Green Carbon</a></li>
                                        <li><a href="nano-charcoal.html">Nano Charcoal</a></li>
                                    </ul>
                                </li>
                                <li class="mega-column">
                                    <h4>Technologies</h4>
                                    <ul>
                                        <li><a href="carbon-trading.html">Carbon Trading</a></li>
                                        <li><a href="#">Catalyst – TCC</a></li>
                                        <li><a href="#">Catalyst – HCC</a></li>
                                    </ul>
                                </li>
                                <li class="mega-column">
                                    <h4>Coal Gasification</h4>
                                    <ul>
                                        <li><a href="cbm.html">Coal Based Methane (CBM)</a></li>
                                    </ul>
                                </li>
                                <li class="mega-column">
                                    <h4>Nuclear Reactor</h4>
                                    <ul>
                                        <li><a href="smfr.html">Small Modular Fusion Reactor</a></li>
                                        <li><a href="smmtsbfr.html">Molten Thorium Salt Reactor</a></li>
                                    </ul>
                                </li>
                                <li class="mega-column">
                                    <h4>Minerals & Mines</h4>
                                    <ul>
                                        <li><a href="coal.html">Coal</a></li>
                                        <li><a href="copper.html">Copper</a></li>
                                        <li><a href="oil-shale.html">Oil Shale</a></li>
                                        <li><a href="tight-oil.html">Tight Oil</a></li>
                                    </ul>
                                </li>
                                <li class="mega-column">
                                    <h4>Green Transportation</h4>
                                    <ul>
                                        <li><a href="electric-vehicles.html">Electric Vehicles</a></li>
                                        <li><a href="hydrogen-fuel-cell-vehicles.html">Hydrogen Fuel Cells</a></li>
                                        <li><a href="hydrogen-cryogenic-engines.html">Cryogenic Engines</a></li>
                                        <li><a href="methanol-fuel-cells.html">Methanol Fuel Cell</a></li>
                                    </ul>
                                </li>
                                <li class="mega-column">
                                    <h4>Artificial Intelligence</h4>
                                    <ul>
                                        <li><a href="robotics.html">Robotics</a></li>
                                        <li><a href="data-centres.html">Data Centres</a></li>
                                        <li><a href="ai-education.html">AI Education</a></li>
                                        <li><a href="technical-training.html">Technical Training</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>

                        <!-- Technologies -->
                        <li class="nav-item">
                            <a class="nav-link dropdown-toggle" href="#" aria-expanded="false">
                                Technologies
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="tcc.html">Thermo-Catalytic Conversion (TCC)</a></li>
                                <hr>
                                <li>
                                    <a href="pdfs/CoalGasification-Technology2.pdf" target="_blank" rel="noopener">
                                        Hydrogen Enriched Catalytic Coal Gasification (HCC)
                                    </a>
                                </li>
                            </ul>
                        </li>

                        <!-- Certifications -->
                        <li class="nav-item">
                            <a class="nav-link dropdown-toggle" href="#" aria-expanded="false">
                                Certification & Awards
                            </a>
                            <ul class="dropdown-menu">
                                <li><a href="assets/images/home/awards.jpg" target="_blank">Awards</a></li>
                                <hr>
                                <li class="dropdown-submenu">
                                    <a class="dropdown-toggle" href="#">Patents</a>
                                    <ul class="dropdown-menu">
                                        <li>
                                            <a href="https://patents.justia.com/inventor/raghavendra-rao-turlapati"
                                                target="_blank" rel="noopener">
                                                USA Patent Certificate
                                            </a>
                                        </li>
                                        <hr>
                                        <li>
                                            <a href="https://patents.justia.com/inventor/raghavendra-rao-turlapati"
                                                target="_blank" rel="noopener">
                                                South Africa Patent Certificate
                                            </a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>

                        <!-- Projects -->
                        <li class="nav-item">
                            <a class="nav-link dropdown-toggle" href="#" aria-expanded="false">
                                Projects
                            </a>
                            <ul class="dropdown-menu">
                                <li class="dropdown-submenu">
                                    <a class="dropdown-toggle" href="#">Commissioned</a>
                                    <ul class="dropdown-menu">
                                        <li><a href="hindalco.html">Hindalco</a></li>
                                        <hr>
                                        <li><a href="railway.html">Railway</a></li>
                                    </ul>
                                </li>
                                <hr>
                                <li class="dropdown-submenu">
                                    <a class="dropdown-toggle" href="#">Under Commissioning</a>
                                    <ul class="dropdown-menu">
                                        <li><a href="tata-project.html">TATA Project</a></li>
                                        <hr>
                                        <li><a href="stercore.html">Stercore</a></li>
                                    </ul>
                                </li>
                                <hr>
                                <li class="dropdown-submenu">
                                    <a class="dropdown-toggle" href="#">Upcoming</a>
                                    <ul class="dropdown-menu">
                                        <li><a href="srikakulam.html">Srikakulam</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>

                        <!-- Contact -->
                        <li class="nav-item">
                            <a class="nav-link" href="contact.html">Contact Us</a>
                        </li>
                    </ul>
                </nav>

                <!-- Mobile Toggle -->
                <button class="mobile-toggle d-lg-none" id="mobileToggle" aria-label="Toggle menu"
                    aria-expanded="false">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </div>
    <!-- Header End -->

    <!-- Mobile Menu -->
    <div class="mobile-menu-overlay" id="mobileOverlay"></div>
    <div class="mobile-menu" id="mobileMenu" aria-hidden="true">
        <div class="mobile-menu-header">
            <span class="mobile-menu-title">Menu</span>
            <button class="mobile-menu-close" id="mobileClose" aria-label="Close menu">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 6L6 18M6 6l12 12" />
                </svg>
            </button>
        </div>
        <div class="mobile-menu-content" id="mobileMenuContent">
            <!-- Mobile menu items injected by JS -->
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        /**
         * Enecovery Header Navigation
         * Fully responsive with mobile menu support
         */
        class HeaderNavigation {
            constructor() {
                this.header = document.getElementById('header');
                this.mobileToggle = document.getElementById('mobileToggle');
                this.mobileMenu = document.getElementById('mobileMenu');
                this.mobileOverlay = document.getElementById('mobileOverlay');
                this.mobileClose = document.getElementById('mobileClose');
                this.mobileContent = document.getElementById('mobileMenuContent');

                this.init();
            }

            init() {
                this.initStickyHeader();
                this.initMobileMenu();
                this.generateMobileMenu();
                this.initAccessibility();
            }

            /**
             * Sticky Header with IntersectionObserver
             */
            initStickyHeader() {
                // Create sentinel element for sticky detection
                const sentinel = document.createElement('div');
                sentinel.style.position = 'absolute';
                sentinel.style.top = '150px';
                sentinel.style.height = '1px';
                sentinel.style.pointerEvents = 'none';
                document.body.prepend(sentinel);

                const observer = new IntersectionObserver(
                    ([entry]) => {
                        this.header.classList.toggle('sticky', !entry.isIntersecting);
                    },
                    { threshold: 0 }
                );

                observer.observe(sentinel);

                // Fallback for older browsers
                if (!window.IntersectionObserver) {
                    window.addEventListener('scroll', () => {
                        this.header.classList.toggle('sticky', window.scrollY > 150);
                    }, { passive: true });
                }
            }

            /**
             * Mobile Menu Toggle
             */
            initMobileMenu() {
                const toggleMenu = (show) => {
                    this.mobileToggle.classList.toggle('active', show);
                    this.mobileMenu.classList.toggle('active', show);
                    this.mobileOverlay.classList.toggle('active', show);
                    this.mobileToggle.setAttribute('aria-expanded', show);
                    this.mobileMenu.setAttribute('aria-hidden', !show);
                    document.body.style.overflow = show ? 'hidden' : '';
                };

                this.mobileToggle.addEventListener('click', () => {
                    const isOpen = this.mobileMenu.classList.contains('active');
                    toggleMenu(!isOpen);
                });

                this.mobileClose.addEventListener('click', () => toggleMenu(false));
                this.mobileOverlay.addEventListener('click', () => toggleMenu(false));

                // Close on escape key
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape' && this.mobileMenu.classList.contains('active')) {
                        toggleMenu(false);
                    }
                });
            }

            /**
             * Generate Mobile Menu from Desktop Nav
             */
            generateMobileMenu() {
                const desktopNav = document.querySelector('.header-nav > ul');
                const mobileList = document.createElement('ul');
                mobileList.className = 'mobile-nav-list';

                desktopNav.querySelectorAll(':scope > li').forEach(item => {
                    const mobileItem = this.createMobileItem(item);
                    mobileList.appendChild(mobileItem);
                });

                this.mobileContent.appendChild(mobileList);
            }

            createMobileItem(desktopItem) {
                const li = document.createElement('li');
                li.className = 'mobile-nav-item';

                const link = desktopItem.querySelector('.nav-link');
                const hasDropdown = desktopItem.querySelector('.dropdown-menu');
                const isMegaMenu = desktopItem.classList.contains('mega-menu');

                if (hasDropdown) {
                    const toggleBtn = document.createElement('button');
                    toggleBtn.className = 'mobile-nav-link';
                    toggleBtn.innerHTML = `
                        ${link.textContent.trim()}
                        <svg class="chevron-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="6 9 12 15 18 9"></polyline>
                        </svg>
                    `;

                    const dropdown = document.createElement('ul');
                    dropdown.className = 'mobile-dropdown';

                    if (isMegaMenu) {
                        // Flatten mega menu for mobile
                        desktopItem.querySelectorAll('.mega-column').forEach(col => {
                            const title = col.querySelector('h4').textContent;
                            const titleLi = document.createElement('li');
                            titleLi.innerHTML = `<strong style="display:block;padding:0.75rem;color:var(--primary-color);">${title}</strong>`;
                            dropdown.appendChild(titleLi);

                            col.querySelectorAll('a').forEach(a => {
                                const subLi = document.createElement('li');
                                const subA = document.createElement('a');
                                subA.href = a.href;
                                subA.textContent = a.textContent;
                                subLi.appendChild(subA);
                                dropdown.appendChild(subLi);
                            });
                        });
                    } else {
                        // Regular dropdown
                        hasDropdown.querySelectorAll(':scope > li').forEach(subItem => {
                            const subLi = document.createElement('li');
                            const subLink = subItem.querySelector('a');
                            const nestedDropdown = subItem.querySelector('.dropdown-menu');

                            if (nestedDropdown) {
                                // Nested submenu
                                const nestedToggle = document.createElement('button');
                                nestedToggle.className = 'mobile-nav-link';
                                nestedToggle.style.paddingLeft = '1rem';
                                nestedToggle.innerHTML = `
                                    ${subLink.textContent.trim()}
                                    <svg class="chevron-icon chevron-icon-right" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <polyline points="9 18 15 12 9 6"></polyline>
                                    </svg>
                                `;

                                const nestedMenu = document.createElement('ul');
                                nestedMenu.className = 'mobile-dropdown';

                                nestedDropdown.querySelectorAll('a').forEach(nestedA => {
                                    const nestedLi = document.createElement('li');
                                    const a = document.createElement('a');
                                    a.href = nestedA.href;
                                    a.textContent = nestedA.textContent;
                                    nestedLi.appendChild(a);
                                    nestedMenu.appendChild(nestedLi);
                                });

                                nestedToggle.addEventListener('click', () => {
                                    const isOpen = nestedMenu.classList.contains('active');
                                    nestedMenu.classList.toggle('active', !isOpen);
                                    nestedToggle.setAttribute('aria-expanded', !isOpen);
                                });

                                subLi.appendChild(nestedToggle);
                                subLi.appendChild(nestedMenu);
                            } else {
                                const a = document.createElement('a');
                                a.href = subLink.href;
                                a.textContent = subLink.textContent;
                                subLi.appendChild(a);
                            }

                            dropdown.appendChild(subLi);
                        });
                    }

                    toggleBtn.addEventListener('click', () => {
                        const isOpen = dropdown.classList.contains('active');
                        // Close other open dropdowns at same level
                        li.parentElement.querySelectorAll('.mobile-dropdown.active').forEach(d => {
                            if (d !== dropdown) d.classList.remove('active');
                        });
                        dropdown.classList.toggle('active', !isOpen);
                        toggleBtn.setAttribute('aria-expanded', !isOpen);
                    });

                    li.appendChild(toggleBtn);
                    li.appendChild(dropdown);
                } else {
                    const a = document.createElement('a');
                    a.className = 'mobile-nav-link';
                    a.href = link.href;
                    a.textContent = link.textContent.trim();
                    li.appendChild(a);
                }

                return li;
            }

            /**
             * Accessibility Enhancements
             */
            initAccessibility() {
                // Keyboard navigation for desktop dropdowns
                document.querySelectorAll('.nav-item').forEach(item => {
                    const link = item.querySelector('.nav-link');

                    link.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            const isExpanded = link.getAttribute('aria-expanded') === 'true';
                            link.setAttribute('aria-expanded', !isExpanded);
                        }
                    });
                });

                // Trap focus in mobile menu when open
                this.mobileMenu.addEventListener('keydown', (e) => {
                    if (e.key !== 'Tab') return;

                    const focusable = this.mobileMenu.querySelectorAll(
                        'button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'
                    );
                    const first = focusable[0];
                    const last = focusable[focusable.length - 1];

                    if (e.shiftKey && document.activeElement === first) {
                        e.preventDefault();
                        last.focus();
                    } else if (!e.shiftKey && document.activeElement === last) {
                        e.preventDefault();
                        first.focus();
                    }
                });
            }
        }

        // Initialize when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => new HeaderNavigation());
        } else {
            new HeaderNavigation();
        }
    </script>
</body>

</html>